<template>
  <div class="home-container">
    <div v-if="currentUser">
      <h1>ğŸ  {{ currentUser.address }} ê·¼ì²˜ ì†Œì‹</h1>
      <p>{{ currentUser.nickname }}ë‹˜ì˜ ë™ë„¤ ì¹œêµ¬ë“¤ì„ ì°¾ì•„ë³´ì„¸ìš”!</p>
      
      <div class="mode-switch">
        <button @click="mode = 'DOG'" :class="{active: mode === 'DOG'}">ğŸ¶ ë©ë©ì´</button>
        <button @click="mode = 'CAT'" :class="{active: mode === 'CAT'}">ğŸ± ëƒ¥ì´</button>
      </div>

      <div class="feed-list">
        <div class="empty-msg">ì•„ì§ ìš°ë¦¬ ë™ë„¤ì— ë“±ë¡ëœ ì¹œêµ¬ê°€ ì—†ì–´ìš”.</div>
      </div>
    </div>
    
    <div v-else>
      <h1>ë°˜ë ¤ì¸ë“¤ì˜ ì†Œì¤‘í•œ ëª¨ì„, Pet Mate ğŸ¾</h1>
      <p>ë™ë„¤ ì¸ì¦ì„ í•˜ê³  ì£¼ë³€ ì´ì›ƒë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”.</p>
      <router-link to="/login"><button class="login-btn">ì‹œì‘í•˜ê¸°</button></router-link>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const currentUser = ref(null)
const mode = ref('DOG')

onMounted(() => {
  const savedUser = localStorage.getItem('user')
  if (savedUser) {
    currentUser.value = JSON.parse(savedUser)
  }
})
</script>

<style scoped>
.home-container { padding: 20px; }
.mode-switch { margin: 20px 0; display: flex; justify-content: center; gap: 10px; }
.mode-switch button { padding: 10px 20px; border-radius: 20px; border: 1px solid #ddd; cursor: pointer; }
.mode-switch button.active { background: #4AAE9B; color: white; border-color: #4AAE9B; }
.feed-list { margin-top: 30px; min-height: 200px; border: 1px dashed #ccc; display: flex; align-items: center; justify-content: center; }
</style>